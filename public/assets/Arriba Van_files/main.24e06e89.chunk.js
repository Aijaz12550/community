(window.webpackJsonparriba=window.webpackJsonparriba||[]).push([[0],{32:function(e,t,a){},39:function(e,t,a){e.exports=a(70)},44:function(e,t,a){},46:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),o=a.n(l),c=(a(44),a(36)),i=a(18),s=a(3),u=a.n(s),m=a(10),d=a(5),p=a(6),h=a(8),v=a(7),f=a(9),g=(a(46),a(19)),E=g.initializeApp({apiKey:"AIzaSyDVSVHB_6dN3wvPkVVz-0r-f_j3pi-P1Bc",authDomain:"arriba-van.firebaseapp.com",databaseURL:"https://arriba-van.firebaseio.com",projectId:"arriba-van",storageBucket:"",messagingSenderId:"364277226914",appId:"1:364277226914:web:c0ce977261ddd654"}),y=g.auth(),_=(g.database(),g.firestore()),b=new g.auth.FacebookAuthProvider,N=new g.auth.GoogleAuthProvider;function S(e,t){return new Promise(function(a,n){_.collection("userRegistration").doc(t).set(e).then(function(){_.collection("userRegistration").doc(t).collection("routine").doc("Segunda-feira").set({Ida:!0,Volta:!0}),_.collection("userRegistration").doc(t).collection("routine").doc("Terca").set({Ida:!0,Volta:!0}),_.collection("userRegistration").doc(t).collection("routine").doc("Quarta-feira").set({Ida:!0,Volta:!0}),_.collection("userRegistration").doc(t).collection("routine").doc("Quinta-feira").set({Ida:!0,Volta:!0}),_.collection("userRegistration").doc(t).collection("routine").doc("Sexta-feira").set({Ida:!0,Volta:!0}),_.collection("userRegistration").doc(t).collection("routine").doc("Sabado").set({Ida:!0,Volta:!0}),_.collection("userRegistration").doc(t).collection("routine").doc("Domingo").set({Ida:!0,Volta:!0}),a({message:"Registerd Successfully"})}).catch(function(e){n({message:e.message})})})}function k(e,t){return new Promise(function(a,n){_.collection("vanRegistration").doc(t).set(e).then(function(){_.collection("registerdPlate").doc(t).set({plate:e.placa}),a({message:"Registerd Successfully"})}).catch(function(e){n({message:e.message})})})}var x=console,C=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(v.a)(t).call(this))).state={userModal:!1,vanModal:!1,userlogin:!1,vanlogin:!1},e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("van"));e?this.props.history.push("./user/registration"):t&&this.props.history.push("./driver/registration")}},{key:"login",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),e.prev=1,e.next=4,new Promise(function(e,t){y.signInWithPopup(b).then(function(t){console.log("result+++>>",t.user);var a={name:t.user.displayName,photo:t.user.photoURL,uid:t.user.uid};_.collection("userAuth").doc(t.user.uid).set(a),console.log("userAuth_________>",a),e(t)}).catch(function(e){t(e.message)})});case 4:t=e.sent,x.log("auth_succes",t),a={name:t.user.displayName,photo:t.user.photoURL,uid:t.user.uid},localStorage.setItem("user",JSON.stringify(a)),this.setState({userlogin:!0,userDetail:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("auth_Error",e.t0.message),this.setState({error:e.t0+" Please check your Internet"});case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"g_login",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),e.prev=1,e.next=4,new Promise(function(e,t){y.signInWithPopup(N).then(function(t){var a={name:t.user.displayName,photo:t.user.photoURL,uid:t.user.uid};_.collection("userAuth").doc(t.user.uid).set(a),console.log("userAuth_________>",a),e(t)}).catch(function(e){t(e.message)})});case 4:t=e.sent,x.log("g_usser",t),a={name:t.user.displayName,photo:t.user.photoURL,uid:t.user.uid},localStorage.setItem("user",JSON.stringify(a)),this.setState({userlogin:!0,userDetail:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),this.setState({error:e.t0}),x.log("g_error",e.t0);case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"v_login",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),e.prev=1,e.next=4,new Promise(function(e,t){y.signInWithPopup(b).then(function(t){console.log("result+++>>",t.user);var a={name:t.user.displayName,photo:t.user.photoURL,uid:t.user.uid};_.collection("vanAuth").doc(t.user.uid).set(a),console.log("userAuth_________>",a),e(t)}).catch(function(e){t(e.message)})});case 4:t=e.sent,x.log("auth_succes_van",t),a={name:t.user.displayName,photo:t.user.photoURL,uid:t.user.uid},localStorage.setItem("van",JSON.stringify(a)),this.setState({vanlogin:!0,userDetail:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("auth_Error_van",e.t0.message),this.setState({error:e.t0});case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"v_g_login",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:""}),e.prev=1,e.next=4,new Promise(function(e,t){y.signInWithPopup(N).then(function(t){var a={name:t.user.displayName,photo:t.user.photoURL,uid:t.user.uid};_.collection("vanAuth").doc(t.user.uid).set(a),console.log("userAuth_________>",a),e(t)}).catch(function(e){t(e.message)})});case 4:t=e.sent,x.log("g_van",t),a={name:t.user.displayName,photo:t.user.photoURL,uid:t.user.uid},localStorage.setItem("van",JSON.stringify(a)),this.setState({vanlogin:!0,userDetail:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),this.setState({error:e.t0}),x.log("g_error_van",e.t0);case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.userModal,n=t.vanModal,l=t.userlogin,o=t.userDetail,c=t.error,i=t.vanlogin;return r.a.createElement("div",{className:"main_front"},r.a.createElement("h1",null,"A",r.a.createElement("h2",null,"rriba"),"!"),r.a.createElement("button",{id:"modalBtn",className:"button",onClick:function(){return e.setState({userModal:!0,vanModal:!1})}},"SOU ESTUDANTE"),r.a.createElement("button",{id:"modalBtn",className:"button",onClick:function(){return e.setState({userModal:!1,vanModal:!0})}},"SOU MOTORISTA"),a&&r.a.createElement("div",{id:"simpleModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("span",{className:"closeBtn",onClick:function(){return e.setState({userModal:!1})}},"\xd7"),r.a.createElement("h2",null,"Login de usu\xe1rio")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("button",{className:"facebook",onClick:function(){return e.login()}},"Facebook"),r.a.createElement("br",null),r.a.createElement("button",{className:"google",onClick:function(){return e.g_login()}},"Google"),c&&r.a.createElement("p",{style:{color:"red"}},c)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("h3",null,"@Arriba!")))),n&&r.a.createElement("div",{id:"simpleModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("span",{className:"closeBtn",onClick:function(){return e.setState({userModal:!1,vanModal:!1})}},"\xd7"),r.a.createElement("h2",null,"Van login")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("button",{className:"facebook",onClick:function(){return e.v_login()}},"Facebook"),r.a.createElement("br",null),r.a.createElement("button",{className:"google",onClick:function(){return e.v_g_login()}},"Google"),c&&r.a.createElement("p",{style:{color:"red"}},c)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("h3",null,"@Arriba!")))),l&&a&&r.a.createElement("div",{id:"simpleModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("span",{className:"closeBtn",onClick:function(){return e.setState({userModal:!1})}},"\xd7"),r.a.createElement("h2",null,"Bem vinda")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("img",{alt:o.name,src:o.photo,style:{width:"100px",height:"100px",alignSelf:"center"}}),r.a.createElement("h3",{style:{alignSelf:"center"}},o.name),r.a.createElement("button",{className:"next",onClick:function(){return e.props.history.push("./user/registration")}},"Next")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("h3",null,"@Arriba!")))),i&&n&&r.a.createElement("div",{id:"simpleModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("span",{className:"closeBtn",onClick:function(){return e.setState({userModal:!1,vanModal:!1})}},"\xd7"),r.a.createElement("h2",null,"Bem vinda")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("img",{alt:o.name,src:o.photo,style:{width:"100px",height:"100px",alignSelf:"center"}}),r.a.createElement("h3",{style:{alignSelf:"center"}},o.name),r.a.createElement("button",{className:"next",onClick:function(){return e.props.history.push("./driver/registration")}},"Next")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("h3",null,"@Arriba!")))))}}]),t}(n.Component),w=(a(56),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",dob:"",id:"",zip:"",city:"",state:"",street:"",location:"",college:"",shift:"Manha",vanPlate:"",registered:!1,showRegstration:!1,lat:"",lng:""},a.vanPlate=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=/\b([a-z]{3})-([0-9]{4})\b/.test(t.toLowerCase()),console.log("test_1",n),n?a.setState({vanPlate:t.toLowerCase(),vanPlate_error:""}):a.setState({vanPlate_error:t+"N\xe3o \xe9 um formato correto.formato correto \xe9  XXX-1111.  "});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.cep=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=/\b([0-9]{2}).([0-9]{3})-([0-9]{3})\b/.test(t.toLowerCase()),console.log("test_1",n),n?a.setState({zip:t.toLowerCase(),zip_error:""}):a.setState({zip_error:t?t+" N\xe3o \xe9 um formato correto.formato correto \xe9 XX.XXX-XXX.":"formato correto \xe9 XX.XXX-XXX"});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("user");if(t){var a=JSON.parse(t);console.log("__________________",a),this.setState({name:a.name,uid:a.uid,photo:a.photo});try{E.firestore().collection("userRegistration").onSnapshot(function(t){t.forEach(function(t){t.id===a.uid?(e.setState({registered:!0}),e.props.history.push("/user/userRoutine")):e.setState({showRegstration:!0})})})}catch(n){alert(n)}navigator.geolocation.getCurrentPosition(function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude})})}else this.props.history.push("/")}},{key:"register",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,l,o,c,i,s,m,d,p,h,v,f,g,E,y,_,b,N,k,x;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.name,n=t.dob,r=t.id,l=t.zip,o=t.city,c=t.state,i=t.street,t.location,s=t.college,m=t.shift,d=t.vanPlate,p=t.uid,h=t.lat,v=t.lng,f=t.photo,g=l?"":"Por favor insira seu CEP",E=c?"":" Por favor insira seu estado",y=o?"":"Por favor insira seu cidade",_=i?"":"Por favor insira seu Rua",b=s?"":"Por favor insira seu college",N=m?"":"Por favor insira seu turno",k=d?"":"Por favor insira seu placa",this.setState({state_error:E,city_error:y,street_error:_,college_error:b,shift_error:N,vanPlate_error:k,zip_error:g}),E||y||_||b||N||k){e.next=22;break}return this.setState({error:""}),x={name:a,dob:n,id:r,zip:l,city:o,state:c,street:i,location:{lat:h,lng:v},college:s,shift:m,vanPlate:d,uid:p,photo:f},e.prev=12,e.next=15,S(x,p);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),alert(e.t0);case 20:e.next=23;break;case 22:this.setState({error:"Por favor preencha o formul\xe1rio corretamente.."});case 23:case"end":return e.stop()}},e,this,[[12,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"_logout",value:function(){var e=this;E.auth().signOut().then(function(t){localStorage.removeItem("user"),e.props.history.push("/")}).catch(function(e){alert(e.message)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.zip_error,n=t.state_error,l=t.city_error,o=t.street_error,c=t.college_error,i=t.shift_error,s=t.vanPlate_error,u=t.error,m=t.lat,d=t.lng,p=t.registered,h=t.showRegstration;return console.log("lat,lng",m,d),r.a.createElement("div",null,!p&&!h&&r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"r_panel",style:{minHeight:"100vh",justifyContent:"center",flexDirection:"column"}},r.a.createElement("div",{className:"r_hd",style:{alignSelf:"center",display:"flex",flexDirection:"column"}},r.a.createElement("p",{onClick:function(){return e._logout()}},"< De volta"),r.a.createElement("h2",{style:{display:"block"}},"Estamos verificando seu registro..."),r.a.createElement("div",{style:{display:"block",alignSelf:"center"},className:"loader"})))),h&&r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"r_panel"},r.a.createElement("div",{className:"r_hd"},r.a.createElement("p",{onClick:function(){return e._logout()}},"<"),r.a.createElement("h3",null,"SOU ESTUDANTE"),r.a.createElement("span",null)),r.a.createElement("div",{className:"form",style:{maxWidth:"1000px",alignSelf:"center"}},r.a.createElement("p",null,"Crie um perfil para te ajudarmos a encontrar motoristas na sua regi\xe3o"),r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"inp"},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",value:this.state.name,placeholder:"Enter your name "})),r.a.createElement("div",{className:"inp"},a?r.a.createElement("label",{style:{color:"red"}},a):r.a.createElement("label",null,"CEP"),r.a.createElement("input",{maxLength:"10",onChange:function(t){return e.cep(t.target.value)},placeholder:"XX.XXX-XXX"})),r.a.createElement("div",{className:"inp"},l?r.a.createElement("label",{style:{color:"red"}},l):r.a.createElement("label",null,"Cidade"),r.a.createElement("input",{maxLength:"40",onChange:function(t){e.setState({city:t.target.value})},type:"text",placeholder:"Cidade"})),r.a.createElement("div",{className:"inp"},n?r.a.createElement("label",{style:{color:"red"}},n):r.a.createElement("label",null,"Estado"),r.a.createElement("input",{maxLength:"40",onChange:function(t){e.setState({state:t.target.value})},type:"text",placeholder:"Estado"})),r.a.createElement("div",{className:"inp"},o?r.a.createElement("label",{style:{color:"red"}},o):r.a.createElement("label",null,"Rua"),r.a.createElement("input",{maxLength:"25",onChange:function(t){e.setState({street:t.target.value})},type:"text",placeholder:"Rua"})),r.a.createElement("div",{className:"inp"},c?r.a.createElement("label",{style:{color:"red"}},c):r.a.createElement("label",null,"Col\xe9gio / Universidade"),r.a.createElement("input",{maxLength:"40",onChange:function(t){e.setState({college:t.target.value})},type:"text",placeholder:"Col\xe9gio / Universidade"})),r.a.createElement("div",{className:"inp"},i?r.a.createElement("label",{style:{color:"red"}},i):r.a.createElement("label",null,"Turno"),r.a.createElement("select",{style:{border:"1px solid coral",width:"93%",maxWidth:"550px"},onChange:function(t){e.setState({shift:t.target.value})},className:"input"},r.a.createElement("option",null,"Manha"),r.a.createElement("option",null,"Tarde"),r.a.createElement("option",null,"Noite"))),r.a.createElement("div",{className:"inp"},s?r.a.createElement("label",{style:{color:"red"}},s):r.a.createElement("label",null,"Placa da Van"),r.a.createElement("input",{maxLength:"8",onChange:function(t){e.vanPlate(t.target.value)},type:"text",placeholder:" xyz-1111"}))),u&&r.a.createElement("p",null,u)),r.a.createElement("button",{onClick:function(){e.register()},className:"rg_btn"},"PR\xd3XIMO"))))}}]),t}(n.Component)),O=(a(57),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",dob:"",id:"",zip:"",city:"",state:"",street:"",location:"",modelo:"",placa:"",lotacao:"",cnh:"",licenca:"",registered:!1,showRegstration:!1},a.placa_input=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=/\b([a-z]{3})-([0-9]{4})\b/.test(t.toLowerCase()),console.log("test_1",n),n?a.setState({placa:t.toLowerCase(),placa_error:""}):a.setState({placa_error:t+" N\xe3o \xe9 um formato correto.formato correto \xe9  XXX-1111.  "});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.cep=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=/\b([0-9]{2}).([0-9]{3})-([0-9]{3})\b/.test(t.toLowerCase()),console.log("test_1",n),n?a.setState({zip:t.toLowerCase(),zip_error:""}):a.setState({zip_error:t+" N\xe3o \xe9 um formato correto.formato correto \xe9 XX.XXX-XXX.  "});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("van");if(t){var a=JSON.parse(t);console.log("__________________",a),this.setState({name:a.name,uid:a.uid,photo:a.photo});try{E.firestore().collection("vanRegistration").onSnapshot(function(t){t.forEach(function(t){t.id===a.uid?(e.setState({registered:!0}),e.props.history.push("/driver/vanRoutine")):e.setState({showRegstration:!0})})})}catch(n){alert(n)}navigator.geolocation.getCurrentPosition(function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude})})}else this.props.history.push("/")}},{key:"register",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,l,o,c,i,s,m,d,p,h,v,f,g,E,y,_,b,N,S,x,C,w,O;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.name,n=t.id,r=t.zip,l=t.city,o=t.state,c=t.street,i=t.modelo,s=t.placa,m=t.lotacao,d=t.cnh,p=t.licenca,h=t.uid,v=t.lat,f=t.lng,g=t.photo,E=r?"":"Por favor insira seu CEP",y=o?"":"Por favor insira seu Estado",_=l?"":"Por favor insira seu Cidade",b=c?"":"Por favor insira seu Rua",N=i?"":"Por favor insira seu modelo",S=s?"":"Por favor insira seu placa",x=m?"":"Por favor insira seu lotacao",C=d?"":"Por favor insira seu CNH",w=p?"":"Por favor insira seu licence",this.setState({state_error:y,city_error:_,street_error:b,modelo_error:N,placa_error:S,lotacao_error:x,cnh_error:C,licenca_error:w,zip_error:E}),y||_||b||N||S||x||C||w){e.next=25;break}return O={name:a,id:n,zip:r,city:l,state:o,street:c,location:v?{lat:v,lng:f}:"",modelo:i,placa:s,lotacao:m,cnh:d,licenca:p,uid:h,photo:g},e.prev=13,e.next=16,k(O,h);case 16:alert("success"),this.props.history.push("/driver/vanRoutine"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),alert(e.t0);case 23:e.next=26;break;case 25:this.setState({error:"Por favor preencha o formul\xe1rio corretamente..."});case 26:case"end":return e.stop()}},e,this,[[13,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"_logout",value:function(){var e=this;E.auth().signOut().then(function(t){localStorage.removeItem("van"),e.props.history.push("/")}).catch(function(e){alert(e.message)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.state_error,n=t.city_error,l=t.street_error,o=t.modelo_error,c=t.placa_error,i=t.lotacao_error,s=t.cnh_error,u=t.licenca_error,m=t.error,d=t.zip_error,p=t.registered,h=t.showRegstration;return r.a.createElement("div",null,!p&&!h&&r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"r_panel",style:{minHeight:"100vh",justifyContent:"center",flexDirection:"column"}},r.a.createElement("div",{className:"r_hd",style:{alignSelf:"center",display:"flex",flexDirection:"column"}},r.a.createElement("p",{onClick:function(){return e._logout()}},"< De volta"),r.a.createElement("h2",{style:{display:"block"}},"Estamos verificando seu registro..."),r.a.createElement("div",{style:{display:"block",alignSelf:"center"},className:"loader"})))),h&&r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"r_panel"},r.a.createElement("div",{className:"r_hd"},r.a.createElement("p",{onClick:function(){return e._logout()}},"<"),r.a.createElement("h3",null,"SOU MOTORISTA"),r.a.createElement("span",null)),r.a.createElement("div",{className:"form",style:{maxWidth:"1200px",alignSelf:"center"}},r.a.createElement("p",null,"Crie um perfil para deixarmos sua Van dispon\xedvel para passageiros na regi\xe3o"),r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"inp"},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",value:this.state.name,placeholder:"Enter your name "})),r.a.createElement("div",{className:"inp"},d?r.a.createElement("label",{style:{color:"red"}},d):r.a.createElement("label",null,"CEP"),r.a.createElement("input",{maxLength:"10",onChange:function(t){return e.cep(t.target.value)},placeholder:"12.345-000"})),r.a.createElement("div",{className:"inp"},n?r.a.createElement("label",{style:{color:"red"}},n):r.a.createElement("label",null,"Cidade"),r.a.createElement("input",{maxLength:"40",onChange:function(t){e.setState({city:t.target.value})},type:"text",placeholder:"Cidade"})),r.a.createElement("div",{className:"inp"},a?r.a.createElement("label",{style:{color:"red"}},a):r.a.createElement("label",null,"Estado"),r.a.createElement("input",{maxLength:"40",onChange:function(t){e.setState({state:t.target.value})},type:"text",placeholder:"Estado"})),r.a.createElement("div",{className:"inp"},l?r.a.createElement("label",{style:{color:"red"}},l):r.a.createElement("label",null,"Rua"),r.a.createElement("input",{maxLength:"25",onChange:function(t){e.setState({street:t.target.value})},type:"text",placeholder:"Rua"})),r.a.createElement("div",{className:"inp"},o?r.a.createElement("label",{style:{color:"red"}},o):r.a.createElement("label",null,"Modelo"),r.a.createElement("input",{maxLength:"30",onChange:function(t){e.setState({modelo:t.target.value})},type:"text",placeholder:"Modelo"})),r.a.createElement("div",{className:"inp"},c?r.a.createElement("label",{style:{color:"red"}},c):r.a.createElement("label",null,"Placa"),r.a.createElement("input",{maxLength:"8",onChange:function(t){e.placa_input(t.target.value)},type:"text",placeholder:"jfv-3333"})),r.a.createElement("div",{className:"inp"},i?r.a.createElement("label",{style:{color:"red"}},i):r.a.createElement("label",null,"Lotacao"),r.a.createElement("input",{maxLength:"30",onChange:function(t){e.setState({lotacao:t.target.value})},type:"text",placeholder:"Lotacao"})),r.a.createElement("div",{className:"inp"},s?r.a.createElement("label",{style:{color:"red"}},s):r.a.createElement("label",null,"CNH"),r.a.createElement("input",{maxLength:"30",onChange:function(t){e.setState({cnh:t.target.value})},type:"text",placeholder:"CNH"})),r.a.createElement("div",{className:"inp"},u?r.a.createElement("label",{style:{color:"red"}},u):r.a.createElement("label",null,"Licenca"),r.a.createElement("input",{maxLength:"30",onChange:function(t){e.setState({licenca:t.target.value})},type:"text",placeholder:"Licenca"})),r.a.createElement("div",{className:"inp"},r.a.createElement("label",null,"Turno"),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block"}},"Minha"),r.a.createElement("input",{className:"_ii_",type:"checkbox"})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block"}},"Trade"),r.a.createElement("input",{className:"_ii_",type:"checkbox"})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block"}},"Noite"),r.a.createElement("input",{className:"_ii_",type:"checkbox"}))),m&&r.a.createElement("p",null,m)))),r.a.createElement("button",{onClick:function(){e.register()},className:"rg_btn"},"CADASTRAR"))))}}]),t}(n.Component)),j=a(16),P=(a(32),a(58),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={checked:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"al",value:function(){var e=this.state.checked,t=this.props,a=t.day,n=t.date,r=t.way,l=t.month,o=t.year;this.setState({checked:!this.state.checked}),this.props.func(!e,a,n,l,o,r)}},{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{className:"center"},r.a.createElement("input",(e={className:"_input_",onChange:function(){return t.al()},checked:this.props.val,type:"checkbox"},Object(j.a)(e,"className",".cc"),Object(j.a)(e,"name",""),e)))}}]),t}(r.a.Component)),R=a(20),X=a.n(R),L=(a(25),a(59),a(23),a(26)),I=a(27),A=(a(64),function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"middle"},r.a.createElement("a",{className:"btn",onClick:function(){return window.open("https://www.facebook.com/arriba.mobi/")},href:"#"},r.a.createElement("i",null,r.a.createElement(L.a,{icon:I.a}))),r.a.createElement("a",{className:"btn",onClick:function(){return window.open("https://www.instagram.com/arriba.mobi/")},href:"#"},r.a.createElement("i",null,r.a.createElement(L.a,{style:{zIndex:1e3},icon:I.b}))))}}]),t}(n.Component)),D=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={toggle:!0,days:["Domingo","Segunda-feira","Terca","Quarta-feira","Quinta-feira","Sexta-feira","Sabado"],routine_array:[{Thursday:{Ida:!1,Volta:!0}}],driver_Not_found:!1,driver_found:!1,finding_driver:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,l,o,c,i,s,m,d,p,h,v,f,g,y,_,b=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.days,!(a=JSON.parse(localStorage.getItem("user")))){e.next=33;break}return E.firestore().collection("userRegistration").onSnapshot(function(e){e.forEach(function(e){a.uid===e.id&&b.setState({__shift__:e.data().shift})})}),e.prev=5,e.next=8,E.firestore().collection("userRegistration").doc(a.uid);case 8:n=e.sent,(r=n.collection("routine")).onSnapshot(function(e){var t=[];e.forEach(function(e){console.log("val___+_",e.id,e.data()),navigator.geolocation.getCurrentPosition(function(e){n.update({location:{lat:e.coords.latitude,lng:e.coords.longitude}})}),t.push(Object(j.a)({},e.id,e.data())),localStorage.setItem("routine_array",JSON.stringify({routine_array:t}))}),b.setState({routine_array:t})}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),alert(e.t0.message);case 16:for(l=[],o=(new Date).getDate(),c=0;c<7;c++)i=(new Date).setDate(o+c),s=new Date(i).getDate(),m=new Date(i).getDay(),d=new Date(i).getMonth(),p=new Date(i).getFullYear(),l.push({date:s,day:t[m],month:d,year:p}),console.log("**************||||||*********",l);return this.setState({days_to_render:l}),h=!1,v=!1,f=E.firestore().collection("userRegistration"),g=E.firestore().collection("vanRegistration"),e.next=26,f.onSnapshot(function(e){e.forEach(function(e){e.id===a.uid&&g.onSnapshot(function(t){t.forEach(function(t){v=!0,t.data().placa===e.data().vanPlate&&(console.log("congratulation",t.data().placa,"_________",t.id),h=!0,b.setState({driver_found:t.data(),driver_Not_found:!1,finding_driver:!1})),console.log("vamn_plate",t.data())})})})});case 26:setTimeout(function(){!h&&v&&(console.log("******************",v),b.setState({driver_found:!1,driver_Not_found:!0,finding_driver:!1}))},3e3),v||setTimeout(function(){},4e3),y=localStorage.getItem("user"),r&&(_=JSON.parse(y),console.log("user>",_),this.setState({name:_.name,uid:_.uid})),E.firestore().collection("userRegistration").onSnapshot(function(e){e.forEach(function(e){console.log("plate_____________",e)})}),e.next=35;break;case 33:alert("Please login First..."),this.props.props.push("/");case 35:case"end":return e.stop()}},e,this,[[5,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"routineHandler",value:function(e,t,a,n,r,l){var o=JSON.parse(localStorage.getItem("user"));E.firestore().collection("userRegistration").doc(o.uid).collection("routine").doc(t).update(Object(j.a)({},l,e))}},{key:"routine",value:function(){var e=JSON.parse(localStorage.getItem("user")),t=E.firestore().collection("userRegistration").doc(e.uid).collection("routine");E.firestore().collection("userRegistration").doc(e.uid).collection("routine").doc("29-8-2019").set({ida:!1,volta:!1}),t.onSnapshot(function(e){e.forEach(function(e){console.log("val___+_",e.id,e.data())})})}},{key:"_logout",value:function(){var e=this;E.auth().signOut().then(function(t){alert("logout com sucesso"),localStorage.removeItem("user"),e.props.props.push("/")}).catch(function(e){alert(e.message)})}},{key:"render",value:function(){var e=this;X.a.init({duration:1e3}),console.log("days_to_render",this.state.days_to_render);var t=this.state,a=t.name,n=t.days_to_render,l=t.routine_array,o=t.driver_Not_found,c=t.driver_found,i=t.finding_driver,s=t.__shift__;return console.log("routine_array>>___",l),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"nn_header"},r.a.createElement("h1",null,"Arriba!")),r.a.createElement(A,null),i&&r.a.createElement("div",{className:"nnn_body"},r.a.createElement("h1",null,"Parab\xe9ns!"),r.a.createElement("h3",null,a),r.a.createElement("p",null,"Estamos encontrando sua van usando a placa van fornecida por voc\xea.."),r.a.createElement("div",{className:"loader"})),o&&r.a.createElement("div",null,r.a.createElement("div",{className:"cmt"},r.a.createElement("button",{onClick:function(){return e.props.props.push("/user/userRoutine/profile")}},"Perfil"),r.a.createElement("button",{onClick:function(){return e._logout()}},"Sair")),r.a.createElement("div",{className:"nnn_body"},r.a.createElement("h1",null,"Sorry!"),r.a.createElement("h3",null,a),r.a.createElement("p",null,"Your Van is not registerd. Please ask your van owner to registerd here for free.Thanks"))),c&&r.a.createElement("div",{className:"n_body"},r.a.createElement("div",{className:"cmt"},r.a.createElement("button",{onClick:function(){return e.props.props.push("/user/userRoutine/profile")}},"Perfil"),r.a.createElement("button",{onClick:function(){return e._logout()}},"Sair")),r.a.createElement("div",{className:"van_driver"},r.a.createElement("p",null,s+" Van"),r.a.createElement("div",{className:"driver_detail"},r.a.createElement("img",{src:c.photo,alt:c.name}),r.a.createElement("div",null,r.a.createElement("p",null,c.name),r.a.createElement("p",null,"modelo : "+c.modelo),r.a.createElement("p",null,"Placa : "+c.placa)))),n&&n.map(function(t,a){return r.a.createElement("div",{key:a,className:"days_main","data-aos":"fade-up"},r.a.createElement("div",{className:"days_header"},r.a.createElement("h2",null,t.day)),r.a.createElement("div",{className:"days_body"},r.a.createElement("h2",null,t.date),l&&l.map(function(a){var n=t.day;if(console.log("++++++++++++",a[n],n),a[n])return r.a.createElement("div",{className:"toggle"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("h3",null," Ida .."),r.a.createElement(P,{func:e.routineHandler,val:a[n]&&a[n].Ida,day:t.day,month:t.month,year:t.year,date:t.date,way:"Ida"})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("h3",null,"volta"),r.a.createElement(P,{val:a[n]&&a[n].Volta,func:e.routineHandler,day:t.day,month:t.month,year:t.year,date:t.date,way:"Volta"})))})))})),r.a.createElement("div",{className:"n_footer"},r.a.createElement("h3",null,"Thank you for using Arriba!")))}}]),t}(n.Component),M=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D,{props:this.props.history}))}}]),t}(n.Component),z=(a(65),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={shift_sort:"Manha",way:"Ida",chalao:!0,days:["Domingo","Segunda-feira","Terca","Quarta-feira","Quinta-feira","Sexta-feira","Sabado"],user_nahe_mila:!1,kitny:[]},a.realtime_listener=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(function(){a.setState({chalao:!1});var e=[],t=JSON.parse(localStorage.getItem("van"));if(t){a.setState({name:t.name,photo:t.photo,uid:t.uid});var n,r,l=E.firestore().collection("userRegistration"),o=E.firestore().collection("vanRegistration").doc(t.uid);o.get().then(function(e){n=e.data().placa,r=e.data().location});var c=["Domingo","Segunda-feira","Terca","Quarta-feira","Quinta-feira","Sexta-feira","Sabado"],i=(new Date).getDay();l.get().then(function(t){t.forEach(function(t){t.data().vanPlate==n&&l.doc(t.id).collection("routine").doc(c[i]).onSnapshot(function(n){var l=a.state.data_array;if(console.log("_____routine",n.data(),l),l){navigator.geolocation.getCurrentPosition(function(e){o.update({location:{lat:e.coords.latitude,lng:e.coords.longitude}})});for(var c=0;c<l.length;c++)if(l[c].va.uid==t.data().uid){console.log("~~~~~~~~~~~~~~",l[c].va.location.lat,l[c].va.location.lng,r.lat);var i=a.getDistanceFromLatLonInKm(l[c].va.location.lat,l[c].va.location.lng,r.lat,r.lng);l[c]={va:t.data(),Ida:n.data().Ida,Volta:n.data().Volta,dist:i},a.setState({updated_array:e})}}})})})}else a.props.history.push("/")},4e3);case 1:case"end":return e.stop()}},e)})),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,r,l,o,c,i,s,m=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!(a=JSON.parse(localStorage.getItem("van")))){e.next=15;break}return this.setState({name:a.name,photo:a.photo,uid:a.uid}),n=E.firestore().collection("userRegistration"),r=E.firestore().collection("vanRegistration").doc(a.uid),l=!1,e.next=9,r.get().then(function(e){console.log("plate",e.data()),o=e.data().placa,c=e.data().location,m.setState({plate:e.data().placa})});case 9:i=["Domingo","Segunda-feira","Terca","Quarta-feira","Quinta-feira","Sexta-feira","Sabado"],s=(new Date).getDay(),console.log(">>>>>",i[s]),n.get().then(function(e){e.forEach(function(e){(console.log("***key***",e.data().length),e.data().vanPlate==o)&&(l=!0,n.doc(e.id).collection("routine").doc(i[s]).get().then(function(a){var n=e.data().location.lat,l=e.data().location.lng;navigator.geolocation.getCurrentPosition(function(e){r.update({locatin:{lat:e.coords.latitude,lng:e.coords.longitude}})});var o=m.getDistanceFromLatLonInKm(n,l,c.lat,c.lng);console.log("userLat : ",n,"userLng : ",l,"driverLat : ",c.lat,"driverLng : ",c.lng,"__distance",o),t.push({va:e.data(),Ida:a.data().Ida,Volta:a.data().Volta,dist:o}),m.setState({data_array:t}),console.log("DATA_ARRAY",t)}).catch(function(e){alert(e.message)}))}),m.setState({user_nahe_mila:!l}),console.log("************ye chala**************")}).catch(function(e){console.error(e.message),alert("akhri"+e.message)}),e.next=16;break;case 15:this.props.history.push("/");case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=this;E.auth().signOut().then(function(t){alert("logout com sucesso"),localStorage.removeItem("van"),e.props.history.push("/")}).catch(function(e){alert(e.message)})}},{key:"deg2rad",value:function(e){return e*(Math.PI/180)}},{key:"getDistanceFromLatLonInKm",value:function(e,t,a,n){var r=this.deg2rad(a-e),l=this.deg2rad(n-t),o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(a))*Math.sin(l/2)*Math.sin(l/2),c=6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)));return console.log("Distance+++++++>>>>>",Math.round(c)),c}},{key:"_delete",value:function(e,t,a){var n=this,r=this.state.data_array;E.firestore().collection("userRegistration").doc(e).delete().then(function(e){alert("User "+t+" deleted. Successfully."),r.splice(a,1),n.setState({data_array:r})}).catch(function(e){alert(e.message)})}},{key:"comp",value:function(e,t){return e.dist<t.dist?-1:e.dist>t.dist?1:0}},{key:"render",value:function(){var e,t=this;X.a.init({duration:1e3});var a=this.state,n=(a.name,a.data_array),l=a.shift_sort,o=a.way,c=a.chalao,i=(a.updated_array,a.user_nahe_mila),s=a.plate,u=a.kitny,m=n?n.sort(this.comp):[];c&&this.realtime_listener();var d=n?n.filter(function(e){return e.va.shift==l&&1==e[o]}):[];return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"n_header"},r.a.createElement("h1",null,"Arriba!")),r.a.createElement(A,null),r.a.createElement("div",{className:"n_body"},r.a.createElement("div",{className:"cmt"},r.a.createElement("button",{onClick:function(){return t.props.history.push("/driver/vanRoutine/profile")}},"Perfil"),r.a.createElement("button",{onClick:function(){return t.logout()}},"Sair")),r.a.createElement("div",{className:"main__t"},r.a.createElement("div",{className:"shifts_input"},r.a.createElement("h4",null," Selecione o turno"),r.a.createElement("select",{onChange:function(e){return t.setState({shift_sort:e.target.value})}},r.a.createElement("option",{value:"Manha"},"Manha"),r.a.createElement("option",{value:"Tarde"},"Tarde"),r.a.createElement("option",{value:"Noite"},"Noite")),r.a.createElement("div",{className:"radio-group",onChange:function(e){return t.setState({way:e.target.value})}},r.a.createElement("label",{className:"container"},r.a.createElement("input",(e={checked:"Ida"==o,style:{cursor:"pointer"},value:"Ida",name:"way"},Object(j.a)(e,"style",{width:"20px"}),Object(j.a)(e,"type","radio"),e)),r.a.createElement("span",{style:{cursor:"pointer"},className:"checkmark"}),"Ida"),r.a.createElement("label",{className:"container"},r.a.createElement("input",{checked:"Volta"==o,value:"Volta",name:"way",style:{width:"20px"},type:"radio"}),r.a.createElement("span",{className:"checkmark"}),"Volta")),r.a.createElement("div",{style:{fontSize:"17px",margin:"5px"}},"Confirmar usu\xe1rios para "+o+" = "+d.length),i&&!n&&r.a.createElement("div",{style:{display:"block",margin:"10%",color:"coral"}},"Nenhum usu\xe1rio encontrado para placa : ",s),!n&&!i&&r.a.createElement("div",{style:{display:"block",margin:"35%"},className:"loader"}),m&&m.map(function(e,a){if(console.log("arr",u),e[o]&&e.va.shift===l)return r.a.createElement("div",{className:"student_list","data-aos":"fade-up"},r.a.createElement("div",{className:"std"},r.a.createElement("img",{style:{width:"28px",borderRadius:"40%",marginRight:"5px",marginLeft:"-3px"},alt:"",src:e.va.photo}),r.a.createElement("div",{className:"name"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"75vw",maxWidth:350}},r.a.createElement("h5",null,e.va.name),r.a.createElement("p",{style:{alignSelf:"flex-end",float:"right"}},Math.round(e.dist)+"km")),r.a.createElement("p",null,e.va.street)),r.a.createElement("span",{className:"span_close",onClick:function(){return t._delete(e.va.uid,e.va.name,a)}},"\xd7")))})))),r.a.createElement("div",{className:"n_footer"},r.a.createElement("h3",null,"Thank you for using Arriba!")))}}]),t}(n.Component)),T=(a(66),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);this.setState({name:t.name,uid:t.uid})}}},{key:"render",value:function(){var e=this;this.state.name;return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"n_header"},r.a.createElement("h1",null,"Arriba!")),r.a.createElement("div",{className:"nn_body"},r.a.createElement("div",{className:"main__tt"},r.a.createElement("p",{style:{cursor:"pointer"},onClick:function(){return e.props.history.goBack()}},"Back"),r.a.createElement("div",{className:"shifts_input"},r.a.createElement("h4",null," Criando um novo turno"),r.a.createElement("input",{type:"text"}),r.a.createElement("p",null,"Estou disponivel nos seguintes dias e turnos"),r.a.createElement("div",{className:"days"},r.a.createElement("div",{className:"day"},"S"),r.a.createElement("div",{className:"day"},"T"),r.a.createElement("div",{className:"day"},"Q"),r.a.createElement("div",{className:"day"},"Q"),r.a.createElement("div",{className:"day"},"S"),r.a.createElement("div",{className:"day"},"S"),r.a.createElement("div",{className:"day"},"D"))),r.a.createElement("div",{className:"b_bottom"},r.a.createElement("button",null,"Minha"),r.a.createElement("button",null,"Tarde"),r.a.createElement("button",null,"Noite")),r.a.createElement("div",{className:"bair"},r.a.createElement("p",null,"Bairros"),r.a.createElement("input",{type:"search",placeholder:"Search here"}),r.a.createElement("div",{className:"list"},"Pardo",r.a.createElement("span",null,"\xd7")),r.a.createElement("div",{className:"list"},"Pardo",r.a.createElement("span",null,"\xd7")),r.a.createElement("div",{className:"list"},"Pardo",r.a.createElement("span",null,"\xd7")),r.a.createElement("div",{className:"list"},"Pardo",r.a.createElement("span",null,"\xd7")),r.a.createElement("div",{className:"list"},"Pardo",r.a.createElement("span",null,"\xd7"))))),r.a.createElement("div",{className:"n_footer"},r.a.createElement("h3",null,"CADASTRAR")))}}]),t}(n.Component)),V=(a(67),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={comment:"Comment"},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"n_header"},r.a.createElement("h1",null,"Arriba!")),r.a.createElement("div",{className:"n_body"},r.a.createElement("div",{className:"comment_main"},r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.props.history.goBack()}},"Back"),r.a.createElement("p",null,"hgdhgd jhdjs jdhjshd jdhjs"),r.a.createElement("input",{placeholder:"Email",type:"email"}),r.a.createElement("textarea",{onChange:function(t){return e.setState({comment:t.target.value})},value:this.state.comment,col:"5",row:"4"}),r.a.createElement("button",null,"Enviar"))),r.a.createElement("div",{className:"n_footer"},r.a.createElement("h3",null,"Thank you for using Arriba!")))}}]),t}(n.Component)),B=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",dob:"",id:"",zip:"",city:"",state:"",street:"",location:"",college:"",shift:"",vanPlate:"",photo:"",dob_error:"",state_error:"",city_error:"",street_error:"",location_error:"",college_error:"",shift_error:"",vanPlate_error:"",edit:!1},a.vanPlate=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({vanPlate:t}),n=/\b([a-z]{3})-([0-9]{4})\b/.test(t.toLowerCase()),console.log("test_1",n),n?a.setState({vanPlate:t.toLowerCase(),vanPlate_error:""}):a.setState({vanPlate_error:t+" N\xe3o \xe9 um formato correto.formato correto \xe9  XXX-1111.  "});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.cep=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=/\b([0-9]{2}).([0-9]{3})-([0-9]{3})\b/.test(t.toLowerCase()),console.log("test_1",n),n?a.setState({zip:t.toLowerCase(),zip_error:""}):a.setState({zip_error:t+" N\xe3o \xe9 um formato correto.formato correto \xe9  XX.XXX-XXX.  "});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));t?E.firestore().collection("userRegistration").onSnapshot(function(a){a.forEach(function(a){a.id==t.uid&&e.setState({name:a.data().name,dob:a.data().dob,id:a.data().id,zip:a.data().zip,city:a.data().city,state:a.data().state,street:a.data().street,location:a.data().location,college:a.data().college,shift:a.data().shift,vanPlate:a.data().vanPlate,photo:a.data().photo})})}):(alert("Please Login first.."),this.props.history.push("/"))}},{key:"done",value:function(){var e=this,t=this.state,a=t.name,n=t.dob,r=t.id,l=t.zip,o=t.city,c=t.state,i=t.street,s=t.location,u=t.college,m=t.shift,d=t.vanPlate,p=(t.lat,t.lng,t.user_data,{name:a,dob:n,id:r,zip:l,city:o,state:c,street:i,location:s,college:u,shift:m,vanPlate:d}),h=JSON.parse(localStorage.getItem("user"));E.firestore().collection("userRegistration").doc(h.uid).update(p).then(function(){alert("Edit Successfull"),e.setState({edit:!1})}).catch(function(e){alert("Error : "+e.message)})}},{key:"render",value:function(){var e=this,t=this.state.user_data,a=this.state,n=a.name,l=a.dob,o=(a.id,a.zip,a.city),c=a.state,i=a.street,s=(a.location,a.college),u=a.shift,m=a.vanPlate,d=a.dob_error,p=a.state_error,h=a.city_error,v=a.street_error,f=(a.location_error,a.college_error),g=a.shift_error,E=a.vanPlate_error,y=(a.error,a.lat,a.lng,a.photo),_=(a.registered,a.zip_error,a.showRegstration,a.edit);return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"nn_header"},r.a.createElement("h1",null,"Arriba!")),r.a.createElement("div",{onClick:function(){e.props.history.goBack()},style:{cursor:"pointer",marginLeft:"6%",fontSize:"20px",color:"red"}},"< De volta"),r.a.createElement("div",{className:"profile_body"},!_&&r.a.createElement("div",{className:"p_main"},r.a.createElement("img",{src:y,height:"200",width:"200",alt:n||"loading..."}),r.a.createElement("p",{className:"user_name"},"Nome : "+n),r.a.createElement("p",{className:"user_name"},"Placa : "+m),r.a.createElement("p",{className:"user_name"},"Estado : "+c),r.a.createElement("p",{className:"user_name"},"Cidade : "+o),r.a.createElement("p",{className:"user_name"},"Rua : "+i),r.a.createElement("p",{className:"user_name"},"Turno : "+u),r.a.createElement("p",{className:"user_name"},"College : "+s),r.a.createElement("button",{onClick:function(){e.setState({edit:!0})},className:"edit_profile_btn"},"Editar Perfil")),_&&r.a.createElement("div",{style:{alignSelf:"center"}},r.a.createElement("div",{className:"form",style:{maxWidth:"800px",alignSelf:"center"}},r.a.createElement("h3",{style:{color:"coral"}},"Editando Formul\xe1rio"),r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"inp"},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",readOnly:!0,value:n||t.name,placeholder:"Enter your name "})),r.a.createElement("div",{className:"inp"},d?r.a.createElement("label",{style:{color:"red"}},d):r.a.createElement("label",null,"Anivers\xe1rio"),r.a.createElement("input",{type:"date",value:l,onChange:function(t){e.setState({dob:t.target.value})},placeholder:"Anivers\xe1rio"})),r.a.createElement("div",{className:"inp"},h?r.a.createElement("label",{style:{color:"red"}},h):r.a.createElement("label",null,"Cidade"),r.a.createElement("input",{value:o,maxLength:"40",onChange:function(t){e.setState({city:t.target.value})},type:"text",placeholder:"Cidade"})),r.a.createElement("div",{className:"inp"},p?r.a.createElement("label",{style:{color:"red"}},p):r.a.createElement("label",null,"Estado"),r.a.createElement("input",{value:c,maxLength:"40",onChange:function(t){e.setState({state:t.target.value})},type:"text",placeholder:"Estado"})),r.a.createElement("div",{className:"inp"},v?r.a.createElement("label",{style:{color:"red"}},v):r.a.createElement("label",null,"Rua"),r.a.createElement("input",{value:i,maxLength:"25",onChange:function(t){e.setState({street:t.target.value})},type:"text",placeholder:"Rua"})),r.a.createElement("div",{className:"inp"},f?r.a.createElement("label",{style:{color:"red"}},f):r.a.createElement("label",null,"Col\xe9gio / Universidade"),r.a.createElement("input",{value:s,maxLength:"40",onChange:function(t){e.setState({college:t.target.value})},type:"text",placeholder:"Col\xe9gio / Universidade"})),r.a.createElement("div",{className:"inp"},g?r.a.createElement("label",{style:{color:"red"}},g):r.a.createElement("label",null,"Turno"),r.a.createElement("select",{style:{border:"1px solid coral",width:"93%",maxWidth:"550px"},onChange:function(t){e.setState({shift:t.target.value})},className:"input"},r.a.createElement("option",null,"Manha"),r.a.createElement("option",null,"Tarde"),r.a.createElement("option",null,"Noite"))),r.a.createElement("div",{className:"inp"},E?r.a.createElement("label",{style:{color:"red"}},E):r.a.createElement("label",null,"Placa da Van"),r.a.createElement("input",{value:m,onChange:function(t){e.vanPlate(t.target.value)},type:"text",placeholder:" jfv-1233"})),r.a.createElement("div",{className:"inp"},r.a.createElement("button",{onClick:function(){e.done()},style:{float:"right",alignSelf:"flex-end"},className:"edit_profile_btn"},"Feita")))))),r.a.createElement("div",{className:"n_footer"},r.a.createElement("h3",null,"Thank you for using Arriba!")))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={comment:"Comment"},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"n_header"},r.a.createElement("h1",null,"Arriba!")),r.a.createElement("div",{className:"n_body"},r.a.createElement("div",{className:"comment_main"},r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return e.props.history.goBack()}},"Back"),r.a.createElement("p",null,"hgdhgd jhdjs jdhjshd jdhjs"),r.a.createElement("input",{placeholder:"Email",type:"email"}),r.a.createElement("textarea",{onChange:function(t){return e.setState({comment:t.target.value})},value:this.state.comment,col:"5",row:"4"}),r.a.createElement("button",null,"Enviar"))),r.a.createElement("div",{className:"n_footer"},r.a.createElement("h3",null,"Thank you for using Arriba!")))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",dob:"",id:"",zip:"",city:"",state:"",street:"",location:"",college:"",shift:"",vanPlate:"",photo:"",dob_error:"",state_error:"",city_error:"",street_error:"",location_error:"",vanPlate_error:"",edit:!1,lat:"",lng:""},a.vanPlate=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({vanPlate:t}),n=/\b([a-z]{3})-([0-9]{4})\b/.test(t.toLowerCase()),console.log("test_1",n),n?a.setState({vanPlate:t.toLowerCase(),vanPlate_error:""}):a.setState({vanPlate_error:t+" Is not a correct format. Correct format is XXX-1111.  "});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.cep=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=/\b([0-9]{2}).([0-9]{3})-([0-9]{3})\b/.test(t.toLowerCase()),console.log("test_1",n),n?a.setState({zip:t.toLowerCase(),zip_error:""}):a.setState({zip_error:t?t+" Is not a correct format. Correct format is XX.XXX-XXX.  ":"Correct format is XX.XXX-XXX."});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("van"));t?(E.firestore().collection("vanRegistration").onSnapshot(function(a){a.forEach(function(a){a.id===t.uid&&e.setState({name:a.data().name,id:a.data().id,zip:a.data().zip,city:a.data().city,state:a.data().state,street:a.data().street,location:a.data().location,college:a.data().college,shift:a.data().shift,vanPlate:a.data().placa,photo:a.data().photo})})}),navigator.geolocation.getCurrentPosition(function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude})})):(alert("Please Login first.."),this.props.history.push("/"))}},{key:"done",value:function(){var e=this,t=this.state,a=t.name,n=t.id,r=t.zip,l=t.city,o=t.state,c=t.street,i=(t.location,t.college,t.shift,t.lat),s=t.lng,u=t.vanPlate,m=(t.user_data,{name:a,id:n,zip:r,city:l,state:o,street:c,location:{lat:i,lng:s},placa:u}),d=JSON.parse(localStorage.getItem("van"));E.firestore().collection("vanRegistration").doc(d.uid).update(m).then(function(){alert("Edit Successfull"),e.setState({edit:!1})}).catch(function(e){alert("Error : "+e.message)})}},{key:"render",value:function(){var e=this,t=this.state.user_data;X.a.init({duration:1e3});var a=this.state,n=a.name,l=(a.id,a.zip),o=a.city,c=a.state,i=a.street,s=a.vanPlate,u=(a.dob_error,a.state_error),m=a.city_error,d=a.street_error,p=a.shift_error,h=a.vanPlate_error,v=a.photo,f=a.edit;return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"nn_header"},r.a.createElement("h1",null,"Arriba!")),r.a.createElement("div",{onClick:function(){e.props.history.goBack()},style:{cursor:"pointer",marginLeft:"6%",fontSize:"20px",color:"red"}},"< De volta"),r.a.createElement("div",{className:"profile_body"},!f&&r.a.createElement("div",{className:"p_main"},r.a.createElement("img",{src:v,width:"200",height:"200",alt:n}),r.a.createElement("p",{className:"user_name"},"Nome : "+n),r.a.createElement("p",{className:"user_name"},"Placa : "+s),r.a.createElement("p",{className:"user_name"},"Estado : "+c),r.a.createElement("p",{className:"user_name"},"Cidade : "+o),r.a.createElement("p",{className:"user_name"},"Rua : "+i),r.a.createElement("p",{className:"user_name"},"CEP : "+l),r.a.createElement("button",{onClick:function(){e.setState({edit:!0})},className:"edit_profile_btn"},"Editar Perfil")),f&&r.a.createElement("div",{style:{alignSelf:"center"}},r.a.createElement("div",{className:"form",style:{maxWidth:"800px",alignSelf:"center"}},r.a.createElement("h3",{style:{color:"coral"}},"Editando Formul\xe1rio"),r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"inp"},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",readOnly:!0,value:n||t&&t.name,placeholder:"Enter your name "})),r.a.createElement("div",{className:"inp"},m?r.a.createElement("label",{style:{color:"red"}},m):r.a.createElement("label",null,"Cidade"),r.a.createElement("input",{value:o,maxLength:"30",onChange:function(t){e.setState({city:t.target.value})},type:"text",placeholder:"Cidade"})),r.a.createElement("div",{className:"inp"},u?r.a.createElement("label",{style:{color:"red"}},u):r.a.createElement("label",null,"Estado"),r.a.createElement("input",{value:c,maxLength:"30",onChange:function(t){e.setState({state:t.target.value})},type:"text",placeholder:"Estado"})),r.a.createElement("div",{className:"inp"},d?r.a.createElement("label",{style:{color:"red"}},d):r.a.createElement("label",null,"Rua"),r.a.createElement("input",{value:i,maxLength:"25",onChange:function(t){e.setState({street:t.target.value})},type:"text",placeholder:"Rua"})),r.a.createElement("div",{className:"inp"},p?r.a.createElement("label",{style:{color:"red"}},p):r.a.createElement("label",null,"Turno"),r.a.createElement("select",{style:{border:"1px solid coral",width:"93%",maxWidth:"550px"},onChange:function(t){e.setState({shift:t.target.value})},className:"input"},r.a.createElement("option",null,"Manha"),r.a.createElement("option",null,"Tarde"),r.a.createElement("option",null,"Noite"))),r.a.createElement("div",{className:"inp"},h?r.a.createElement("label",{style:{color:"red"}},h):r.a.createElement("label",null,"Placa da Van"),r.a.createElement("input",{value:s,onChange:function(t){e.vanPlate(t.target.value)},type:"text",placeholder:" jfv-1233"})),r.a.createElement("div",{className:"inp"},r.a.createElement("button",{onClick:function(){e.done()},style:{float:"right",alignSelf:"flex-end"},className:"edit_profile_btn"},"Feita")))))),r.a.createElement("div",{className:"n_footer"},r.a.createElement("h3",null,"Thank you for using Arriba!")))}}]),t}(n.Component);function W(){return r.a.createElement(c.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:C}),r.a.createElement(i.a,{exact:!0,path:"/user/registration",component:w}),r.a.createElement(i.a,{exact:!0,path:"/user/userRoutine",component:M}),r.a.createElement(i.a,{exact:!0,path:"/user/userRoutine/comment",component:V}),r.a.createElement(i.a,{exact:!0,path:"/user/userRoutine/profile",component:B}),r.a.createElement(i.a,{exact:!0,path:"/driver/registration",component:O}),r.a.createElement(i.a,{exact:!0,path:"/driver/vanRoutine",component:z}),r.a.createElement(i.a,{exact:!0,path:"/driver/vanRoutine/profile",component:U}),r.a.createElement(i.a,{exact:!0,path:"/driver/vanRoutine/comment",component:J}),r.a.createElement(i.a,{exact:!0,path:"/driver/vanRoutine/novaturma",component:T}))}var F=function(){return r.a.createElement(W,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.24e06e89.chunk.js.map